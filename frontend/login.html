<!DOCTYPE html>
<html lang="th">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>‡πÄ‡∏Ç‡πâ‡∏≤‡∏™‡∏π‡πà‡∏£‡∏∞‡∏ö‡∏ö</title>

<link href="https://fonts.googleapis.com/css2?family=Prompt:wght@300;400;600&display=swap" rel="stylesheet">

<style>
*{
  margin:0;
  padding:0;
  box-sizing:border-box;
  font-family:'Prompt',sans-serif;
}

body{
  height:100vh;
  display:flex;
  justify-content:center;
  align-items:center;
  background: linear-gradient(135deg,#7b2ff7,#f107a3);
}

.login-container{
  width:100%;
  max-width:420px;
  padding:40px;
  border-radius:25px;
  background:rgba(255,255,255,0.15);
  backdrop-filter: blur(15px);
  box-shadow:0 20px 40px rgba(0,0,0,0.2);
  color:white;
}

.login-container h1{
  text-align:center;
  margin-bottom:30px;
  font-weight:600;
}

.input-group{
  margin-bottom:20px;
}

.input-group label{
  font-size:14px;
}

.input-group input{
  width:100%;
  padding:12px;
  border:none;
  border-radius:15px;
  margin-top:5px;
  outline:none;
}

.password-wrapper{
  position:relative;
}

.toggle-password{
  position:absolute;
  right:15px;
  top:50%;
  transform:translateY(-50%);
  cursor:pointer;
  font-size:14px;
  color:#555;
}

.login-btn{
  width:100%;
  padding:12px;
  border:none;
  border-radius:25px;
  background:white;
  color:#7b2ff7;
  font-weight:600;
  cursor:pointer;
  transition:0.3s;
}

.login-btn:hover{
  transform:scale(1.03);
}

.login-btn.loading{
  opacity:0.7;
  pointer-events:none;
}

.error{
  margin-top:10px;
  color:#ffe6e6;
  font-size:14px;
  text-align:center;
}

.footer{
  margin-top:20px;
  text-align:center;
  font-size:13px;
  opacity:0.8;
}
</style>
</head>

<body>

<div class="login-container">
  <h1>üîê ‡πÄ‡∏Ç‡πâ‡∏≤‡∏™‡∏π‡πà‡∏£‡∏∞‡∏ö‡∏ö</h1>

  <div class="input-group">
    <label>‡∏≠‡∏µ‡πÄ‡∏°‡∏•</label>
    <input type="email" id="email" placeholder="example@email.com">
  </div>

  <div class="input-group">
    <label>‡∏£‡∏´‡∏±‡∏™‡∏ú‡πà‡∏≤‡∏ô</label>
    <div class="password-wrapper">
      <input type="password" id="password" placeholder="********">
      <span class="toggle-password" onclick="togglePassword()">‡πÅ‡∏™‡∏î‡∏á</span>
    </div>
  </div>

  <button class="login-btn" id="loginBtn" onclick="login()">‡πÄ‡∏Ç‡πâ‡∏≤‡∏™‡∏π‡πà‡∏£‡∏∞‡∏ö‡∏ö</button>

  <div class="error" id="errorMsg"></div>

  <div class="footer">
    ¬© 2026 ‡∏£‡∏∞‡∏ö‡∏ö‡∏õ‡∏£‡∏∞‡πÄ‡∏°‡∏¥‡∏ô‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏ô
  </div>
</div>

<script>

document.addEventListener("keypress", function(e){
  if(e.key === "Enter"){
    login();
  }
});

function togglePassword(){
  const password = document.getElementById("password");
  const toggle = document.querySelector(".toggle-password");

  if(password.type === "password"){
    password.type = "text";
    toggle.innerText = "‡∏ã‡πà‡∏≠‡∏ô";
  }else{
    password.type = "password";
    toggle.innerText = "‡πÅ‡∏™‡∏î‡∏á";
  }
}

async function login(){
  const email = document.getElementById("email").value;
  const password = document.getElementById("password").value;
  const errorMsg = document.getElementById("errorMsg");
  const btn = document.getElementById("loginBtn");

  errorMsg.innerText = "";

  if(!email || !password){
    errorMsg.innerText = "‡∏Å‡∏£‡∏∏‡∏ì‡∏≤‡∏Å‡∏£‡∏≠‡∏Å‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡πÉ‡∏´‡πâ‡∏Ñ‡∏£‡∏ö";
    return;
  }

  btn.classList.add("loading");
  btn.innerText = "‡∏Å‡∏≥‡∏•‡∏±‡∏á‡πÄ‡∏Ç‡πâ‡∏≤‡∏™‡∏π‡πà‡∏£‡∏∞‡∏ö‡∏ö...";

  try{
    const res = await fetch("http://localhost:5000/api/login",{
      method:"POST",
      headers:{ "Content-Type":"application/json" },
      body:JSON.stringify({ email, password })
    });

    const data = await res.json();

    if(res.ok){
      localStorage.setItem("token", data.token);
      window.location.href = "dashboard.html";
    }else{
      errorMsg.innerText = data.message || "‡πÄ‡∏Ç‡πâ‡∏≤‡∏™‡∏π‡πà‡∏£‡∏∞‡∏ö‡∏ö‡πÑ‡∏°‡πà‡∏™‡∏≥‡πÄ‡∏£‡πá‡∏à";
    }

  }catch(err){
    errorMsg.innerText = "‡πÑ‡∏°‡πà‡∏™‡∏≤‡∏°‡∏≤‡∏£‡∏ñ‡πÄ‡∏ä‡∏∑‡πà‡∏≠‡∏°‡∏ï‡πà‡∏≠‡πÄ‡∏ã‡∏¥‡∏£‡πå‡∏ü‡πÄ‡∏ß‡∏≠‡∏£‡πå‡πÑ‡∏î‡πâ";
  }

  btn.classList.remove("loading");
  btn.innerText = "‡πÄ‡∏Ç‡πâ‡∏≤‡∏™‡∏π‡πà‡∏£‡∏∞‡∏ö‡∏ö";
}

</script>

</body>
</html>
